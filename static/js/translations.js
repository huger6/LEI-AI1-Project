// Translations dictionary
const translations = {
    pt: {
        /* Global */

        // Navbar
        nav_adopt_dropdown: "Adote",
        nav_adopt_dropdown_dogs: "Cães",
        nav_adopt_dropdown_cats: "Gatos",
        nav_adopt_dropdown_others: "Outros",
        nav_volunteering: "Voluntariado",
        nav_contacts: "Contactos",
        nav_about_us: "Sobre nós",
        nav_donation_btn: "Faça uma doação",

        // Footer
        footer_brand_desc: "A conectar famílias carinhosas com animais desde 2023.",
        footer_col_1: "Adota",
        footer_col_1_dogs: "Cães",
        footer_col_1_cats: "Gatos",
        footer_col_1_others: "Outros animais",

        footer_col_2: "Ajuda-nos",
        footer_col_2_donate: "Faça uma doação",
        footer_col_2_volunteer: "Voluntaria-te",

        footer_col_3: "Contactos",

        footer_col_4: "Ajuda",
        footer_col_4_policy: "Política de privacidade",
        footer_col_4_faq: "Perguntas frequentes",

        footer_copyright: "Todos os direitos reservados",

        /* Homepage */
        home_title: "PetBond - Centro de Adoção Animal",

        // Hero
        hero_title_1: "Encontra o teu novo melhor amigo",
        hero_desc_1: "Há milhares de animais à espera de uma casa. Adota hoje e muda uma vida para sempre.",
        hero_btn_adopt: "Adotar agora",
        hero_btn_more: "Sabe mais",
        
        hero_title_2: "Torna-te Voluntário",
        hero_desc_2: "Tens tempo livre e amor para dar? Ajuda-nos a cuidar de quem mais precisa.",
        hero_btn_volunteer: "Ser Voluntário",

        hero_title_3: "A tua ajuda faz a diferença",
        hero_desc_3: "Pequenos gestos salvam vidas. Contribui para a alimentação e cuidados veterinários.",
        hero_btn_donate: "Fazer doação",

        // Info
        info_number_animals_rescued: "1,200+",
        info_animals_rescued: "Animais resgatados",
        info_number_adoptions: "850+",
        info_adoptions: "Adoções",
        info_number_volunteers: "300+",
        info_volunteers: "Voluntários ativos",

        // Featured

        ft_title: "À espera de uma nova casa",
        badge_dog: "Cão",
        badge_cat: "Gato",
        badge_other: "Outro",
        gender_male: "Macho",
        gender_female: "Fêmea",
        unit_years: "Anos",
        unit_months: "Meses",

        ft_pet_1_desc: "Buddy é muito energético e adora jogar ao 'busca'. É ótimo com crianças!",
        
        ft_pet_2_race: "Laranja",
        ft_pet_2_desc: "O Imenso adora comida e sestas prolongadas em colos quentes.",

        ft_pet_3_desc: "Um gigante peludo e fofo à procura de um sofá para relaxar.",
    
        ft_pet_4_race: "Misturado",
        ft_pet_4_desc: "Energia de cachorrinho. A Daisy precisa de treinamento mas tem muito amor para dar!",

        // See more
        see_more_title: "Ver todos os animais",
        see_more_desc: "Temos muitos mais amigos à espera de uma família.",

        /* Donations page */
        donate_title: "A tua ajuda salva vidas",
        
        donate_desc: "A PetBond sobrevive graças à generosidade de pessoas como tu. 100% das doações vão para alimentação, veterinário e abrigo.",
        badge_popular: "Mais Popular",
        donate_mbway_text: "Envie o valor para o número:",
        click_to_copy: "Clique para copiar",
        donate_mb_text: "Pagamento de Serviços:",
        mb_entity: "Entidade:",
        mb_ref: "Referência:",
        donate_mb_note: "Válido para qualquer montante.",
        donate_paypal_text: "Doe de forma segura com a sua conta PayPal ou Cartão.",
        btn_donate_paypal: "Doar via PayPal",
        impact_title: "Para onde vai o dinheiro?",
        impact_vet: "Despesas Veterinárias",
        impact_food: "Alimentação",
        impact_shelter: "Manutenção do Abrigo"
    },
    uk: {
        /* Global */

        // Navbar
        nav_adopt_dropdown: "Adopt",
        nav_adopt_dropdown_dogs: "Dogs",
        nav_adopt_dropdown_cats: "Cats",
        nav_adopt_dropdown_others: "Others",
        nav_volunteering: "Volunteering",
        nav_contacts: "Contacts",
        nav_about_us: "About us",
        nav_donation_btn: "Make a donation",

        // Footer
        footer_brand_desc: "Connecting loving families with animals since 2023.",
        footer_col_1: "Adopt",
        footer_col_1_dogs: "Dogs",
        footer_col_1_cats: "Cats",
        footer_col_1_others: "Other animals",

        footer_col_2: "Help us",
        footer_col_2_donate: "Make a donation",
        footer_col_2_volunteer: "Become a volunteer",

        footer_col_3: "Contacts",

        footer_col_4: "Help",
        footer_col_4_policy: "Privacy policy",
        footer_col_4_faq: "FAQ",

        footer_copyright: "All rights reserved",

        /* Homepage */
        home_title: "PetBond - Animal Adoption Centre",

        // Hero
        hero_title_1: "Find your new best friend",
        hero_desc_1: "There are thousands of animals waiting for a home. Adopt today and change a life forever.",
        hero_btn_adopt: "Adopt now",
        hero_btn_more: "Learn more",

        hero_title_2: "Become a Volunteer",
        hero_desc_2: "Do you have free time and love to give? Help us care for those who need it most.",
        hero_btn_volunteer: "Be a volunteer",

        hero_title_3: "Your help makes a difference",
        hero_desc_3: "Small gestures save lives. Contribute to food and veterinary care.",
        hero_btn_donate: "Make a donation",

        // Info
        info_number_animals_rescued: "1,200+",
        info_animals_rescued: "Animals rescued",
        info_number_adoptions: "850+",
        info_adoptions: "Adoptions",
        info_number_volunteers: "300+",
        info_volunteers: "Active volunteers",

        // Featured
        ft_title: "Waiting for a new home",
        badge_dog: "Dog",
        badge_cat: "Cat",
        badge_other: "Other",
        gender_male: "Male",
        gender_female: "Female",
        unit_years: "Years",
        unit_months: "Months",

        ft_pet_1_desc: "Buddy is very energetic and loves playing fetch. He's great with children!",

        ft_pet_2_race: "Orange",
        ft_pet_2_desc: "Imenso loves food and long naps on warm laps.",

        ft_pet_3_desc: "A big fluffy giant looking for a sofa to relax on.",

        ft_pet_4_race: "Mixed",
        ft_pet_4_desc: "Puppy energy. Daisy needs training but has lots of love to give!",

        // See more
        see_more_title: "See all animals",
        see_more_desc: "We have many more friends waiting for a family."
    },
    es: {
        /* Global */

        // Navbar
        nav_adopt_dropdown: "Adopta",
        nav_adopt_dropdown_dogs: "Perros",
        nav_adopt_dropdown_cats: "Gatos",
        nav_adopt_dropdown_others: "Otros",
        nav_volunteering: "Voluntariado",
        nav_contacts: "Contactos",
        nav_about_us: "Sobre nosotros",
        nav_donation_btn: "Haz una donación",

        // Footer
        footer_brand_desc: "Uniendo familias cariñosas con animales desde 2023.",
        footer_col_1: "Adopta",
        footer_col_1_dogs: "Perros",
        footer_col_1_cats: "Gatos",
        footer_col_1_others: "Otros animales",

        footer_col_2: "Ayúdanos",
        footer_col_2_donate: "Haz una donación",
        footer_col_2_volunteer: "Hazte voluntario",

        footer_col_3: "Contactos",

        footer_col_4: "Ayuda",
        footer_col_4_policy: "Política de privacidad",
        footer_col_4_faq: "Preguntas frecuentes",

        footer_copyright: "Todos los derechos reservados",

        /* Homepage */
        home_title: "PetBond - Centro de Adopción Animal",

        // Hero
        hero_title_1: "Encuentra a tu nuevo mejor amigo",
        hero_desc_1: "Hay miles de animales esperando un hogar. Adopta hoy y cambia una vida para siempre.",
        hero_btn_adopt: "Adoptar ahora",
        hero_btn_more: "Saber más",

        hero_title_2: "Hazte voluntario",
        hero_desc_2: "¿Tienes tiempo libre y amor para dar? Ayúdanos a cuidar a quienes más lo necesitan.",
        hero_btn_volunteer: "Ser voluntario",

        hero_title_3: "Tu ayuda marca la diferencia",
        hero_desc_3: "Pequeños gestos salvan vidas. Contribuye a la alimentación y cuidados veterinarios.",
        hero_btn_donate: "Hacer una donación",

        // Info
        info_number_animals_rescued: "1,200+",
        info_animals_rescued: "Animales rescatados",
        info_number_adoptions: "850+",
        info_adoptions: "Adopciones",
        info_number_volunteers: "300+",
        info_volunteers: "Voluntarios activos",

        // Featured
        ft_title: "A la espera de un nuevo hogar",
        badge_dog: "Perro",
        badge_cat: "Gato",
        badge_other: "Otro",
        gender_male: "Macho",
        gender_female: "Hembra",
        unit_years: "Años",
        unit_months: "Meses",

        ft_pet_1_desc: "Buddy es muy enérgico y le encanta jugar a buscar. ¡Es genial con niños!",

        ft_pet_2_race: "Naranja",
        ft_pet_2_desc: "Imenso adora la comida y las siestas largas en regazos cálidos.",

        ft_pet_3_desc: "Un gigante peludo y adorable que busca un sofá donde relajarse.",

        ft_pet_4_race: "Mezclado",
        ft_pet_4_desc: "Energía de cachorro. Daisy necesita entrenamiento pero tiene mucho amor para dar.",
        
        // See more
        see_more_title: "Ver todos los animales",
        see_more_desc: "Tenemos muchos más amigos esperando una familia."
    }
}

let currentLang = localStorage.getItem('petbond_lang') || 'pt';

/**
 * 3. Update page language
 * @param {string} lang - The language code (pt, uk, es)
 * @param {boolean} force - If true, translates even if language hasn't changed (Good use for page load)
 */
function updatePageLanguage(lang, force = false) {
    if (!force && lang === currentLang) {
        return; 
    }

    // Update the Global State
    currentLang = lang;
    
    // Save to LocalStorage
    localStorage.setItem('petbond_lang', lang);

    // Update <html> tag lang
    const htmlLang = (lang === 'uk') ? 'en' : lang;
    document.documentElement.lang = htmlLang;

    // Update Text 
    const elements = document.querySelectorAll('[data-i18n]');
    
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        } else {
            console.warn(`Missing translation for: ${key} in language: ${lang}`);
        }
    });

    // Visuals are already updated upon dropdown selection
}
